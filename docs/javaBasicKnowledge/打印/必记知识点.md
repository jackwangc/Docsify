# 必记知识点

## hashMap 原理

1. hashMap 是一个 entry 数组加链表的组合结构
2. entry 的位置获取
   1. 获取 key 的hashcode
   2. 针对这个 hashcode 进行高16位和低16位的异或运算
   3. 最后与表长的 - 1 进行与运算，获取到 entry 的位置
3. 之所以这样获取位置的原因
   1. 异或运算，降低哈希碰撞概率，使数据分布均匀
   2. `异或获取的值 / lenth - 1`, 只有 -1 才和获取映射的对应位置的 hash 函数`hashcode(key) % length` 取模运算相等，同时比取余运算更加有效率
   3. 不 - 1 的话破坏了位置的均匀分布，进行与运算时有一部分值会取不到，增加碰撞，空间浪费。
   4. 同时扩容时，因为长度为2的倍数，元素的位置不用重新计算，要么在原位置，要么在原位置在移动2的次幂，不用重新计算 hash,效率高

## 