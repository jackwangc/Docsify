# 面经

## 20190710  盒马鲜生

> 20190710  盒马鲜生

1. 自我介绍
2. 数据结构中常用的集合有哪些？
3. ArrayList和LinkedList的区别？Vector有什么区别？
4. 现有几个.txt文件，文件里面有结构化的数据，记录姓名. 学校. 班级. 科目. 分数，要求找出成绩top10的学生，显示学生的姓名. 成绩. 班级，讲一下设计思路？
5. 我答：首先写个程序将.txt文件里面的数据读出来，按照成绩排序，然后取前十名。
6. 问：读文件用什么方式？怎么实现？答：...
7. 问：读完后怎么去找前十名？用什么方式实现？算法思路是什么？
8. 提示：多个文件，结合效率，时间复杂度怎么实现？
9.  自答：核心思想：因为是多个文件，只需要十名，所以先把每个文件里的前十名取出来，范围缩小，再把每个文件的前十名join一下，放到一个队列里去，再对这少部分进行排序就解决啦！
10. Java里批量处理数据会用到并发，就是多线程，如果设计一个多线程的程序你一般会考虑哪些点？
11. 我答：注意避免死锁。
12. 自答：一个多线程的程序首先要考虑的是怎么解决线程安全，怎么解决并发问题，有了并发和线程安全问题才会有锁的概念，有了锁才会涉及到怎么解决死锁。
13. 问：一个程序里如何解决线程安全问题？保证线程安全的方法手段？
14. 我答：首先给获取锁和释放锁安排一个顺序并强制线程按照顺序进行，还可以用同步。
15. 问：同步具体怎么实现的？怎么做同步？
16. 我答：加synchronized
17. 他补充：加同步锁是吗？加同步锁有哪些需要注意的点？我答：。。。。。。。
18. 补充：用锁会有额外的负面影响，并不是有并发问题就想着加一把锁，比如，当我执行这个方法很耗时的时候，给他加锁，当有线程调用这个方法的时候，因为比较耗时，很容易造成锁的等待，所以不能很轻率的给方法加锁，锁加多了对性能有损耗的。
19. 常用的Map有哪些？
20. 现要实现一个功能：现有很多配置项，会有好几个方法调用他，实现这个配置项用哪种类型的Map比较合适？例：有一个开关作为配置项，当打开时执行新方法，关闭时执行老方法，此时的开关用哪种Map去实现它？怎么设计？
21. 提示：问题的核心点是配置项有好几个方法去调用，所以要考虑哪一个Map是线程安全的？
22. ConcurrentHashMap，高性能. 线程安全！javaniu包下有一个 Concurrent的专门解决并发场景下问题的一些类。
23. Java里常用的设计模式有哪些？
24. 讲讲你对单例模式的理解？
25. 补充饿汉式和懒汉式的区别：懒汉式你需要时我才创建一个实例，饿汉式是应用已启动的时候就初始化一个实例，问：饿汉式和懒汉式的主要区别是什么？
26. 补充：实现方式不同，双层锁. 内部类. 枚举，但核心区别是，饿汉式应用启动时就创建他，但是启动时有一定顺序，XXX（没听清）能控制服务加载顺序，11. 如果有一个服务刚好依赖了单例，并且先被加载，此时他需要单例但单例是饿汉式的，还没进来，还没创建，此时会有时序问题。
27. 虚拟机主要做什么用的？
28. 虚拟机里有一个非常核心的概念叫GC(我听成机芯。。。。。)，GC的实现原理是什么？

